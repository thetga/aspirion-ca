<aside class="sidebar">
  <h5>Latest Posts</h5>
  <ul class="latest-list">
    <li class="text-muted">Loading…</li>
  </ul>
</aside>

<script>
(function () {
  function fmt(d){
    return new Date(d).toLocaleDateString("en-IN",{day:"2-digit",month:"short"});
  }

  fetch("/latest.json")
    .then(r=>r.json())
    .then(data=>{
      const ul=document.querySelector(".latest-list");
      ul.innerHTML="";
      data.slice(0,5).forEach(i=>{
        ul.innerHTML+=`
          <li>
            <a class="latest-link" href="${i.url}">${i.title}</a>
            <span class="latest-meta">
              ${fmt(i.date)} · ${i.source} · ${i.type}
            </span>
          </li>`;
      });
    })
    .catch(()=>{
      document.querySelector(".latest-list").innerHTML=
        "<li class='text-muted'>Unable to load</li>";
    });
})();
</script>
